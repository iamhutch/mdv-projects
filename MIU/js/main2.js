function getParameterByName(d,b){var a;if(b.length==0)a=window.location;else a=b;var c=RegExp("[?&]"+d+"=([^&]*)").exec(a);return c&&decodeURIComponent(c[1].replace(/\+/g," "))}$(document).bind("mobileinit",function(){});$("[data-icon=home]").live("click",function(){if($("#home").length>0)$.mobile.changePage("/m/");else window.location="/m/"});$("[data-icon=arrow-l]").live("click",function(){history.back();return false});$('div[data-url*="view.htm?id"]').live("pageshow",function(){var b=getParameterByName("id",$(this).data("url")),a=$(this).attr("data-url");if(b==null||a==null)return;$.ajax({type:"POST",url:"/MobileDataService.asmx/GetMobileArticleByArticleID",data:"{'articleID':"+b+"}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(c){$.mobile.showPageLoadingMsg();var d=$('[data-url="'+a+'"] [data-role=content] #maincontent');$(d).html("");$(d).append("<h4>"+c.d.article.ArticleHeading+'</h4>                        <p class="ui-li-desc" ><b>By: '+c.d.article.ArticleAuthorName+'</b></p>                        <div class="label" ><div class="labeli"><span>'+c.d.article.Technologies+'</span></div></div>                        <div class="dotted-line" ></div>');$(d).append("<div>"+c.d.article.Content+"</div>");$(d).append('<br/><p class="ui-li-desc" ><em>Posted on '+c.d.article.ArticlePostDateInLongDate+"</em></p>");$.mobile.activePage.find(".ui-title").text(c.d.article.ArticleHeading);$('[data-url="'+a+'"] ul[data-role=listview]').listview("refresh");dp.SyntaxHighlighter.ClipboardSwf="../Script/codescript/clipboard.swf";dp.SyntaxHighlighter.HighlightAll("code");$.mobile.activePage.find("#sharelink").attr("href","/m/share.htm?id="+b+"&title="+c.d.article.ArticleHeading);$.mobile.hidePageLoadingMsg()},error:function(){$('[data-url="'+a+'"] div[data-role="content"]').html("Error loading article. Please try web version.")}})});$('div[data-url*="articles.htm?cat"]').live("pageshow",function(){var c=getParameterByName("cat",$(this).data("url")),a=$(this).attr("data-url");if(c==null||a==null)return;if($(this).find('input[data-type="search"]').val()!=""){$(this).find('input[data-type="search"]').val("");$(this).find('input[data-type="search"]').trigger("change")}var b=new Date,d=b.getMonth()+1+"/"+(b.getDate()+1)+"/"+b.getFullYear(),e=$(this).attr("dom-cache-expires");if(e==d)return;$(this).attr("dom-cache-expires",d);$.ajax({type:"POST",url:"/MobileDataService.asmx/GetMobileArticlesByCategory",data:"{'CategoryID':"+c+"}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(b){$.mobile.showPageLoadingMsg();$('[data-url="'+a+'"] ul[data-role=listview]').html("");var c="";$(b.d).each(function(a){c+="<li>                        <a href='view.htm?id="+b.d[a].ArticleId+"'><h3>"+b.d[a].ArticleHeading+"</h3>                        <p>"+b.d[a].ArticleShortDescription+"</p>                        <p><strong>By "+b.d[a].ArticleAuthorName+"</strong> on "+b.d[a].PostDate+"</p>                        <p>Views:"+b.d[a].Views+"</p></a>                        </li>"});if(b.d.length==0)c+="<li>                        <p>There are no items to show in this view.</p>                        </li>";$('[data-url="'+a+'"] ul[data-role=listview]').html(c);$('[data-url="'+a+'"] ul[data-role=listview]').listview("refresh");var d=getParameterByName("t",$.mobile.path.parseUrl(window.location));$.mobile.activePage.find(".ui-title").text(d);$.mobile.hidePageLoadingMsg()},error:function(){$('[data-url="'+a+'"] div[data-role="content"]').html("Error loading articles. Please try web version.")}})});$('div[id="categories"]').live("pageshow",function(){if($('div[id="categories"] ul[data-role="listview"]').children(0).text()!="Loading..")return;$.ajax({type:"POST",url:"/MobileDataService.asmx/GetCategories",data:"{}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){$.mobile.showPageLoadingMsg();$('div[id="categories"] ul[data-role="listview"]').html("");var b="<li data-role='list-divider'>Select</li>";$(a.d).each(function(c){b+="<li role='option' tabindex='-1' data-theme='c'><a href='articles.htm?cat="+a.d[c].TechnologyID+"&t="+jQuery.trim(a.d[c].TechnologyName)+"'  >"+a.d[c].TechnologyName+"</a></li>"});$('div[id="categories"] ul[data-role="listview"]').html(b);$('div[id="categories"] ul[data-role="listview"]').listview("refresh");$.mobile.hidePageLoadingMsg()},error:function(){$('div[data-url="categories"] div[data-role="content"]').html("Error loading categories. Please try web version.")}})});$('div[id="recent"]').live("pageshow",function(){$.ajax({type:"POST",url:"/MobileDataService.asmx/GetMobileArticlesByCategory",data:"{'CategoryID':0}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){$.mobile.showPageLoadingMsg();$('div[id="recent"] ul[data-role="listview"]').html("");var b="<li data-role='list-divider'>Select</li>";$(a.d).each(function(c){b+="<li>                        <a href='view.htm?id="+a.d[c].ArticleId+"'><h3>"+a.d[c].ArticleHeading+"</h3>                        <p>"+a.d[c].ArticleShortDescription+"</p>                        <p><strong>By "+a.d[c].ArticleAuthorName+"</strong> on "+a.d[c].PostDate+" - Views:"+a.d[c].Views+"</p>                        <div class='label'><div class='labeli'><span>"+a.d[c].Technologies+"</span></div></div>                        </a>                        </li>"});$('div[id="recent"] ul[data-role="listview"]').html(b);$('div[id="recent"] ul[data-role="listview"]').listview("refresh");$.mobile.hidePageLoadingMsg()},error:function(){$('div[id="recent"] div[data-role="content"]').html("Error loading articles. Please try web version.")}})});